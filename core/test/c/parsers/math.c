/*
 * Generated by libtree-sitter
 */

#include <tree_sitter/runtime.h>
#include <ctype.h>

enum {
  symbol_expr,
  symbol_term,
  symbol_factor,
  symbol_number,
  symbol_variable
};

static const char *rule_names[5] = {
  "expr",
  "term",
  "factor",
  "number",
  "variable"
};

TSTree * ts_parse_math(const char *input)
{
  TSTree *tree = ts_tree_new(rule_names);
  SETUP();

  PARSE_STATES {
    case 1:
    {
      if (lookahead_sym == symbol_expr)
        SHIFT(2);
      if (lookahead_sym == symbol_term)
        SHIFT(4);
      if (lookahead_sym == symbol_factor)
        REDUCE(symbol_term);
      if (lookahead_sym == symbol_number)
        REDUCE(symbol_factor);
      if (lookahead_sym == symbol_variable)
        REDUCE(symbol_factor);
      if (lookahead_char == '(')
        ADVANCE(6);
      if (isdigit(lookahead_char))
        ADVANCE(8);
      if (isalnum(lookahead_char))
        ADVANCE(9);
      PARSE_ERROR();
      break;
    }

    case 2:
    {
      if (lookahead_char == '+')
        ADVANCE(3);
      ACCEPT();
      break;
    }

    case 3:
    {
      if (lookahead_sym == symbol_term)
        SHIFT(4);
      if (lookahead_sym == symbol_factor)
        REDUCE(symbol_term);
      if (lookahead_sym == symbol_number)
        REDUCE(symbol_factor);
      if (lookahead_sym == symbol_variable)
        REDUCE(symbol_factor);
      if (lookahead_char == '(')
        ADVANCE(6);
      if (isdigit(lookahead_char))
        ADVANCE(8);
      if (isalnum(lookahead_char))
        ADVANCE(9);
      PARSE_ERROR();
      break;
    }

    case 4:
    {
      if (lookahead_char == '*')
        ADVANCE(5);
      REDUCE(symbol_expr);
      break;
    }

    case 5:
    {
      if (lookahead_sym == symbol_factor)
        REDUCE(symbol_term);
      if (lookahead_sym == symbol_number)
        REDUCE(symbol_factor);
      if (lookahead_sym == symbol_variable)
        REDUCE(symbol_factor);
      if (lookahead_char == '(')
        ADVANCE(6);
      if (isdigit(lookahead_char))
        ADVANCE(8);
      if (isalnum(lookahead_char))
        ADVANCE(9);
      PARSE_ERROR();
      break;
    }

    case 6:
    {
      if (lookahead_sym == symbol_expr)
        SHIFT(7);
      if (lookahead_sym == symbol_term)
        SHIFT(4);
      if (lookahead_sym == symbol_factor)
        REDUCE(symbol_term);
      if (lookahead_sym == symbol_number)
        REDUCE(symbol_factor);
      if (lookahead_sym == symbol_variable)
        REDUCE(symbol_factor);
      if (lookahead_char == '(')
        ADVANCE(6);
      if (isdigit(lookahead_char))
        ADVANCE(8);
      if (isalnum(lookahead_char))
        ADVANCE(9);
      PARSE_ERROR();
      break;
    }

    case 7:
    {
      if (lookahead_char == ')')
        REDUCE(symbol_factor);
      if (lookahead_char == '+')
        ADVANCE(3);
      PARSE_ERROR();
      break;
    }

    case 8:
    {
      if (isdigit(lookahead_char))
        ADVANCE(8);
      REDUCE(symbol_number);
      break;
    }

    case 9:
    {
      if (isalnum(lookahead_char))
        ADVANCE(9);
      REDUCE(symbol_variable);
      break;
    }
  }

accept:
  return tree;
}
